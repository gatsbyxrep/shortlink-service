# Сервис для сокращения ссылок на Go
Сервис позволяет сокращать ссылки, а также хранить их в базе данных PostgreSQL (при наличии флага -d), либо же в локальном хранилище (отсутствие флагов).
Для хранения в базе данных, необходимо указать настройки доступа, которые указываются в файле: db_credentials.json. 
Пример JSON файла:
```javascript
{
    "hostname": "host.docker.internal",
    "port": "32772",
    "dbname": "postgres",
    "username": "postgres",
    "password": "postgrespw"
}
```
## Эндпоинты
POST http://localhost:8080

Request: {original-url}

Response: {short-url}

GET
Request: http://localhost:8080/{short-url}

Response:  http://localhost:8080/{original-url}

## Пример работы
Для тестирования работы использовалась утилита curl, скриншот работы приведен ниже:

![Пример работы](https://i.imgur.com/KUppCna.jpg)

## Генерация ссылок меньшей длины и разрешение колизий 
По умолчанию ссылки генерируются длиной в 7 символов (можно уменьшить длину в самом коде, но это черевато затратами на разрешение возможных коллизий)

Пример разрешения коллизий:

MD5 от http://asd.ru/abcdefghijkl - 4072719cbb9673fe505c6e5632a561a0

MD5 от http://asd.ru - 4259d3d5e191a4ef283c1b5cae8fe160

С минимальным изменением в коде, зададим размер генерируемых ссылок - 1 символ, в таком случае, от хэша будет взят только 1 символ, который у обоих ссылок одинаковый (равен 4),
тогда сервис попытается разрешить получившуюся коллизию.

![Пример с разрешением коллизий](https://i.imgur.com/fqWQAf4.jpg)

Если же с заданным количеством символов разрешить коллизию не получается (за некоторое число попыток), то сервис увеличит генерируемый размер на единицу и попробует снова. 
